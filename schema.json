{
  "version": "1.0.0",
  "metadata": {
    "description": "yCard Schema Definition - Single Source of Truth",
    "generator": "This file generates all type definitions, grammar rules, and validation logic"
  },
  "enums": {
    "PhoneType": {
      "description": "Phone number types with localized aliases",
      "variants": [
        {
          "canonical": "home",
          "aliases": ["casa", "domicile", "自宅"]
        },
        {
          "canonical": "work", 
          "aliases": ["trabajo", "travail", "bureau", "勤務"]
        },
        {
          "canonical": "mobile",
          "aliases": ["cell", "móvil", "portable", "携帯"]
        },
        {
          "canonical": "fax",
          "aliases": []
        },
        {
          "canonical": "pager",
          "aliases": []
        },
        {
          "canonical": "main",
          "aliases": ["principal"]
        },
        {
          "canonical": "other",
          "aliases": ["otro", "autre", "その他"]
        }
      ]
    },
    "EmailType": {
      "description": "Email address types with localized aliases",
      "variants": [
        {
          "canonical": "home",
          "aliases": ["casa", "domicile", "自宅"]
        },
        {
          "canonical": "work",
          "aliases": ["trabajo", "travail", "bureau", "勤務"]
        },
        {
          "canonical": "other",
          "aliases": ["otro", "autre", "その他"]
        }
      ]
    },
    "AddressType": {
      "description": "Address types with localized aliases", 
      "variants": [
        {
          "canonical": "home",
          "aliases": ["casa", "domicile", "自宅"]
        },
        {
          "canonical": "work",
          "aliases": ["trabajo", "travail", "bureau", "勤務"]
        },
        {
          "canonical": "other",
          "aliases": ["otro", "autre", "その他"]
        }
      ]
    },
    "DiagnosticLevel": {
      "description": "Validation diagnostic severity levels",
      "variants": [
        {
          "canonical": "Error",
          "aliases": ["error", "err"]
        },
        {
          "canonical": "Warning", 
          "aliases": ["warning", "warn"]
        },
        {
          "canonical": "Info",
          "aliases": ["info", "information"]
        },
        {
          "canonical": "Hint",
          "aliases": ["hint", "suggestion"]
        }
      ]
    },
    "PhonesStyle": {
      "description": "Phone formatting styles",
      "variants": [
        {
          "canonical": "canonical",
          "aliases": ["full", "structured"]
        },
        {
          "canonical": "shorthand",
          "aliases": ["short", "compact"]
        },
        {
          "canonical": "auto",
          "aliases": ["automatic", "smart"]
        }
      ]
    },
    "ValidationMode": {
      "description": "Validation strictness modes",
      "variants": [
        {
          "canonical": "lenient",
          "aliases": ["relaxed", "permissive"]
        },
        {
          "canonical": "strict",
          "aliases": ["rigid", "exact"]
        }
      ]
    }
  },
  "shorthandFields": {
    "description": "Fields that expand to structured forms",
    "phoneShorthands": [
      {
        "key": "mobile",
        "expandsTo": "phones",
        "defaultType": "mobile",
        "aliases": ["cell", "móvil", "portable", "携帯"]
      },
      {
        "key": "home", 
        "expandsTo": "phones",
        "defaultType": "home",
        "aliases": ["casa", "domicile", "自宅"]
      },
      {
        "key": "work",
        "expandsTo": "phones", 
        "defaultType": "work",
        "aliases": ["trabajo", "travail", "bureau", "勤務"]
      },
      {
        "key": "fax",
        "expandsTo": "phones",
        "defaultType": "fax",
        "aliases": []
      },
      {
        "key": "pager",
        "expandsTo": "phones",
        "defaultType": "pager", 
        "aliases": []
      },
      {
        "key": "main",
        "expandsTo": "phones",
        "defaultType": "main",
        "aliases": ["principal"]
      }
    ],
    "emailShorthands": [
      {
        "key": "email",
        "expandsTo": "emails",
        "defaultType": "other",
        "aliases": []
      }
    ]
  },
  "schema": {
    "description": "Core yCard schema structure",
    "fields": [
      {
        "name": "version",
        "type": "number",
        "required": true,
        "description": "Schema version, always 1 for v1"
      },
      {
        "name": "uid",
        "type": "string",
        "required": false,
        "description": "Optional unique identifier"
      },
      {
        "name": "name",
        "type": "Name",
        "required": false,
        "description": "Contact name information"
      },
      {
        "name": "phones",
        "type": "Phone[]",
        "required": false,
        "description": "Phone numbers"
      },
      {
        "name": "emails", 
        "type": "Email[]",
        "required": false,
        "description": "Email addresses"
      },
      {
        "name": "addresses",
        "type": "Address[]",
        "required": false,
        "description": "Physical addresses"
      },
      {
        "name": "manager",
        "type": "string",
        "required": false,
        "description": "Manager/supervisor reference for LDIF support"
      },
      {
        "name": "metadata",
        "type": "Metadata",
        "required": false,
        "description": "Processing metadata"
      }
    ]
  },
  "diagnosticCodes": {
    "description": "Standard diagnostic codes for validation",
    "codes": [
      {
        "code": "phone-normalized",
        "level": "Warning",
        "message": "Phone number normalized to E.164 format"
      },
      {
        "code": "shorthand-expanded", 
        "level": "Info",
        "message": "Shorthand field expanded to structured form"
      },
      {
        "code": "phone-format",
        "level": "Error", 
        "message": "Phone number should be in E.164 format"
      },
      {
        "code": "email-invalid",
        "level": "Error",
        "message": "Invalid email address"
      },
      {
        "code": "empty-contact",
        "level": "Error",
        "message": "At least one of name, phones, or emails must be present"
      }
    ]
  },
  "i18n": {
    "description": "Internationalization alias mappings for localized field names",
    "locales": {
      "root": {
        "description": "Base locale with core field mappings",
        "keyAliases": {
          "name": "name",
          "first": "name",
          "last": "name",
          "work": "phones",
          "phone": "phones",
          "phones": "phones",
          "mobile": "phones",
          "email": "emails",
          "emails": "emails",
          "address": "addresses",
          "addresses": "addresses",
          "manager": "manager",
          "leader": "manager",
          "boss": "manager"
        },
        "typeAliases": {
          "home": "home",
          "work": "work",
          "mobile": "mobile",
          "cell": "mobile",
          "fax": "fax",
          "pager": "pager",
          "main": "main",
          "other": "other"
        }
      },
      "en": {
        "description": "English language aliases",
        "keyAliases": {
          "fullname": "name",
          "firstname": "name",
          "lastname": "name",
          "given": "name",
          "family": "name",
          "contact": "phones",
          "telephone": "phones",
          "cell": "phones",
          "supervisor": "manager",
          "boss": "manager"
        },
        "typeAliases": {}
      },
      "fr": {
        "description": "French language aliases",
        "keyAliases": {
          "nom": "name",
          "prénom": "name",
          "prenom": "name",
          "nom_famille": "name",
          "travail": "phones",
          "telephone": "phones",
          "téléphone": "phones",
          "adresse": "addresses",
          "courrier": "emails",
          "courriel": "emails",
          "responsable": "manager",
          "chef": "manager",
          "superviseur": "manager"
        },
        "typeAliases": {
          "domicile": "home",
          "bureau": "work",
          "travail": "work",
          "portable": "mobile",
          "mobile": "mobile",
          "fax": "fax"
        },
        "countries": {
          "allemagne": "DE",
          "états-unis": "US",
          "etats-unis": "US",
          "espagne": "ES",
          "italie": "IT",
          "royaume-uni": "GB"
        },
        "honorifics": ["M.", "Mme", "Dr", "Pr", "Me"]
      },
      "es": {
        "description": "Spanish language aliases", 
        "keyAliases": {
          "nombre": "name",
          "primer_nombre": "name",
          "apellido": "name",
          "trabajo": "phones",
          "telefono": "phones",
          "teléfono": "phones",
          "direccion": "addresses",
          "dirección": "addresses",
          "correo": "emails",
          "gerente": "manager",
          "jefe": "manager",
          "supervisor": "manager"
        },
        "typeAliases": {
          "casa": "home",
          "trabajo": "work",
          "movil": "mobile",
          "móvil": "mobile",
          "fax": "fax"
        },
        "countries": {
          "alemania": "DE",
          "estados unidos": "US",
          "reino unido": "GB",
          "francia": "FR",
          "italia": "IT"
        },
        "honorifics": ["Sr.", "Sra.", "Dr.", "Dra."]
      },
      "ja": {
        "description": "Japanese language aliases",
        "keyAliases": {
          "名前": "name",
          "姓": "name",
          "名": "name",
          "会社電話": "phones",
          "電話": "phones",
          "住所": "addresses",
          "メール": "emails",
          "管理者": "manager",
          "上司": "manager",
          "マネージャー": "manager"
        },
        "typeAliases": {
          "自宅": "home",
          "勤務": "work",
          "会社": "work",
          "携帯": "mobile",
          "ファックス": "fax"
        },
        "countries": {
          "アメリカ": "US",
          "イギリス": "GB",
          "フランス": "FR",
          "ドイツ": "DE",
          "中国": "CN"
        },
        "honorifics": ["さん", "様", "先生", "博士"]
      }
    }
  }
}